<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Logic Puzzle Master - Train your brain with 5+ unique logic puzzle games featuring interactive video tutorials. Number patterns, symbol decoder, equation puzzles, odd-one-out, and pattern grid deduction.">
    <meta name="keywords" content="logic puzzles, brain games, number patterns, symbol decoder, equation puzzles, odd one out, pattern recognition, brain training, puzzle games, free online games">
    <title>Logic Puzzle Master - Brain Training Games with Interactive Tutorials</title>
    <style>
        /* ========================================================
           RESET & BASE STYLES
           ======================================================== */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f0c29 0%, #302b63 50%, #24243e 100%);
            color: #fff;
            min-height: 100vh;
            overflow-x: hidden;
            line-height: 1.6;
        }

        /* ========================================================
           SCREEN MANAGEMENT - Shows/hides different pages
           ======================================================== */
        .screen { display: none; animation: fadeIn 0.5s ease; }
        .screen.active { display: block; }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        @keyframes glow {
            0%, 100% { box-shadow: 0 0 5px rgba(255, 215, 0, 0.5); }
            50% { box-shadow: 0 0 20px rgba(255, 215, 0, 0.8), 0 0 30px rgba(255, 107, 107, 0.6); }
        }
        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); opacity: 0.3; }
            50% { transform: translateY(-40px) rotate(180deg); opacity: 0.6; }
        }
        @keyframes slideDown {
            from { opacity: 0; max-height: 0; }
            to { opacity: 1; max-height: 2000px; }
        }
        @keyframes rotateIn {
            from { transform: rotate(0deg); }
            to { transform: rotate(180deg); }
        }

        /* ========================================================
           HEADER - Fixed navigation bar
           ======================================================== */
        .header {
            position: fixed;
            top: 0; left: 0; right: 0;
            z-index: 1000;
            padding: 1rem 5%;
            background: rgba(15, 12, 41, 0.95);
            backdrop-filter: blur(15px);
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        .logo {
            font-size: clamp(1.1rem, 3vw, 1.6rem);
            font-weight: 800;
            background: linear-gradient(135deg, #ffd700, #ff6b6b, #667eea);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            cursor: pointer;
        }
        .nav-links {
            display: flex;
            gap: 1.5rem;
            list-style: none;
        }
        .nav-links a {
            color: #fff;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
            font-size: clamp(0.8rem, 2vw, 0.95rem);
        }
        .nav-links a:hover { color: #ffd700; }

        /* ========================================================
           ANIMATED BACKGROUND - Floating particles effect
           ======================================================== */
        .bg-animated {
            position: fixed;
            width: 100%; height: 100%;
            overflow: hidden;
            z-index: -1;
            top: 0; left: 0;
        }
        .particle {
            position: absolute;
            background: rgba(255, 255, 255, 0.08);
            border-radius: 50%;
            animation: float 20s infinite ease-in-out;
        }
        .particle:nth-child(1) { width: 100px; height: 100px; left: 5%; top: 15%; animation-delay: 0s; }
        .particle:nth-child(2) { width: 70px; height: 70px; right: 10%; top: 40%; animation-delay: 3s; }
        .particle:nth-child(3) { width: 120px; height: 120px; left: 50%; bottom: 15%; animation-delay: 6s; }
        .particle:nth-child(4) { width: 50px; height: 50px; right: 25%; top: 65%; animation-delay: 9s; }
        .particle:nth-child(5) { width: 80px; height: 80px; left: 30%; top: 70%; animation-delay: 12s; }

        /* ========================================================
           HERO SECTION - Main landing area
           ======================================================== */
        .hero {
            min-height: 60vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 120px 5% 40px;
        }
        .hero h1 {
            font-size: clamp(2rem, 6vw, 3.5rem);
            font-weight: 800;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, #fff, #ffd700, #ff6b6b);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: pulse 3s infinite;
        }
        .hero p {
            font-size: clamp(1rem, 2.5vw, 1.3rem);
            color: rgba(255, 255, 255, 0.8);
            max-width: 700px;
            margin-bottom: 2rem;
        }
        .hero-btn {
            padding: 1rem 2.5rem;
            font-size: 1.1rem;
            font-weight: 700;
            border: none;
            border-radius: 50px;
            background: linear-gradient(135deg, #ffd700, #ff6b6b);
            color: #1a1a2e;
            cursor: pointer;
            transition: all 0.3s;
            animation: bounce 2s infinite;
        }
        .hero-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 10px 30px rgba(255, 215, 0, 0.4);
        }

        /* ========================================================
           MAIN GAMES SECTION - Primary game cards
           ======================================================== */
        .games-section {
            padding: 40px 5% 60px;
        }
        .section-title {
            text-align: center;
            font-size: clamp(1.5rem, 4vw, 2.2rem);
            margin-bottom: 2rem;
            color: #ffd700;
        }
        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            max-width: 1400px;
            margin: 0 auto;
        }

        /* ========================================================
           GAME CARDS - Clickable cards for each game
           ======================================================== */
        .game-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 2rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.4s;
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
        }
        .game-card::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1));
            opacity: 0;
            transition: opacity 0.4s;
        }
        .game-card:hover {
            transform: translateY(-10px);
            border-color: #ffd700;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }
        .game-card:hover::before { opacity: 1; }
        .game-icon {
            font-size: 3.5rem;
            margin-bottom: 1rem;
            display: block;
        }
        .game-card h3 {
            font-size: 1.3rem;
            margin-bottom: 0.8rem;
            color: #fff;
        }
        .game-card p {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.95rem;
        }
        .game-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
        }
        .badge-popular {
            background: linear-gradient(135deg, #ff6b6b, #ff8e53);
            color: #fff;
        }
        .badge-new {
            background: linear-gradient(135deg, #00c9ff, #92fe9d);
            color: #1a1a2e;
        }

        /* ========================================================
           MORE GAMES SECTION - Expandable area
           ======================================================== */
        .more-games-section {
            padding: 20px 5% 60px;
            max-width: 1400px;
            margin: 0 auto;
        }
        .expand-btn {
            width: 100%;
            padding: 1.2rem 2rem;
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.3), rgba(118, 75, 162, 0.3));
            border: 2px solid rgba(255, 215, 0, 0.3);
            border-radius: 15px;
            color: #fff;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1rem;
            transition: all 0.3s;
        }
        .expand-btn:hover {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.5), rgba(118, 75, 162, 0.5));
            border-color: #ffd700;
        }
        .expand-icon {
            font-size: 1.5rem;
            transition: transform 0.3s;
        }
        .expand-btn.expanded .expand-icon {
            transform: rotate(180deg);
        }
        .expandable-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease, padding 0.3s;
        }
        .expandable-content.show {
            max-height: 2000px;
            padding-top: 2rem;
        }
        .more-games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
        }

        /* ========================================================
           COMING SOON CARDS - Locked future games
           ======================================================== */
        .coming-soon-card {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 20px;
            padding: 2rem;
            text-align: center;
            border: 2px dashed rgba(255, 255, 255, 0.2);
            position: relative;
            cursor: pointer;
            transition: all 0.3s;
        }
        .coming-soon-card:hover {
            border-color: rgba(255, 215, 0, 0.5);
            background: rgba(255, 255, 255, 0.05);
        }
        .coming-soon-card .game-icon {
            opacity: 0.5;
            filter: grayscale(50%);
        }
        .coming-soon-card h3 {
            color: rgba(255, 255, 255, 0.6);
        }
        .lock-overlay {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 2.5rem;
            opacity: 0.8;
        }
        .coming-soon-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.7rem;
            font-weight: 700;
            background: rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.7);
        }

        /* ========================================================
           MODAL - Preview popup for coming soon games
           ======================================================== */
        .modal-overlay {
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0, 0, 0, 0.85);
            z-index: 2000;
            display: none;
            justify-content: center;
            align-items: center;
            padding: 2rem;
            animation: fadeIn 0.3s;
        }
        .modal-overlay.active { display: flex; }
        .modal-content {
            background: linear-gradient(135deg, #1a1a2e, #2d2d44);
            border-radius: 20px;
            padding: 2.5rem;
            max-width: 500px;
            width: 100%;
            text-align: center;
            border: 2px solid rgba(255, 215, 0, 0.3);
            position: relative;
        }
        .modal-close {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 1.5rem;
            background: none;
            border: none;
            color: #fff;
            cursor: pointer;
            opacity: 0.7;
            transition: opacity 0.3s;
        }
        .modal-close:hover { opacity: 1; }
        .modal-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
        }
        .modal-content h2 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: #ffd700;
        }
        .modal-content p {
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 1.5rem;
            line-height: 1.7;
        }
        .modal-features {
            text-align: left;
            background: rgba(255, 255, 255, 0.05);
            padding: 1rem 1.5rem;
            border-radius: 10px;
            margin-bottom: 1.5rem;
        }
        .modal-features li {
            padding: 0.5rem 0;
            color: rgba(255, 255, 255, 0.7);
            list-style: none;
        }
        .modal-features li::before {
            content: '‚ú® ';
        }
        .notify-btn {
            padding: 0.8rem 2rem;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border: none;
            border-radius: 25px;
            color: #fff;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.3s;
        }
        .notify-btn:hover { transform: scale(1.05); }

        /* ========================================================
           BENEFITS SECTION - Why play section
           ======================================================== */
        .benefits-section {
            padding: 60px 5%;
            background: rgba(0, 0, 0, 0.2);
        }
        .benefits-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 1.5rem;
            max-width: 1200px;
            margin: 2rem auto 0;
        }
        .benefit-item {
            text-align: center;
            padding: 1.5rem;
        }
        .benefit-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }
        .benefit-item h4 {
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
            color: #ffd700;
        }
        .benefit-item p {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
        }

        /* ========================================================
           FOOTER - Bottom section
           ======================================================== */
        .footer {
            padding: 2rem 5%;
            background: rgba(0, 0, 0, 0.3);
            text-align: center;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
        .footer p {
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.9rem;
        }
        .footer-links {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-top: 1rem;
            flex-wrap: wrap;
        }
        .footer-links a {
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            transition: color 0.3s;
        }
        .footer-links a:hover { color: #ffd700; }

        /* ========================================================
           GAME SCREEN STYLES - Individual game pages
           ======================================================== */
        .game-screen {
            padding: 100px 5% 60px;
            max-width: 1000px;
            margin: 0 auto;
        }
        .back-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.7rem 1.5rem;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            border-radius: 25px;
            color: #fff;
            cursor: pointer;
            transition: all 0.3s;
            margin-bottom: 2rem;
        }
        .back-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }
        .game-header {
            text-align: center;
            margin-bottom: 2rem;
        }
        .game-title {
            font-size: clamp(1.8rem, 5vw, 2.5rem);
            color: #ffd700;
            margin-bottom: 0.5rem;
        }
        .game-subtitle {
            color: rgba(255, 255, 255, 0.7);
            font-size: 1.1rem;
        }

        /* Info Panels - Instructions, objectives, hints */
        .info-panel {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            border-left: 4px solid #667eea;
        }
        .info-panel h3 {
            font-size: 1.1rem;
            color: #ffd700;
            margin-bottom: 0.8rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .info-panel p, .info-panel li {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.95rem;
            line-height: 1.7;
        }
        .info-panel ul, .info-panel ol {
            padding-left: 1.5rem;
        }
        .info-panel li { margin-bottom: 0.5rem; }
        .hints-panel {
            border-left-color: #ff6b6b;
        }
        .objectives-panel {
            border-left-color: #28a745;
        }

        /* ========================================================
           PUZZLE BOARD - Game play area
           ======================================================== */
        .puzzle-container {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 20px;
            padding: 2rem;
            margin: 2rem 0;
            text-align: center;
        }
        .puzzle-display {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin: 1.5rem 0;
        }
        .puzzle-item {
            min-width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 10px;
            font-size: 1.3rem;
            font-weight: 700;
            padding: 0 15px;
        }
        .puzzle-item.mystery {
            background: linear-gradient(135deg, #ffd700, #ff6b6b);
            color: #1a1a2e;
            animation: pulse 1.5s infinite;
        }
        .answer-input {
            padding: 0.8rem 1.5rem;
            font-size: 1.2rem;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
            text-align: center;
            width: 150px;
            margin: 1rem 0;
        }
        .answer-input:focus {
            outline: none;
            border-color: #ffd700;
        }
        .btn-group {
            display: flex;
            justify-content: center;
            gap: 1rem;
            flex-wrap: wrap;
            margin-top: 1.5rem;
        }
        .game-btn {
            padding: 0.9rem 2rem;
            font-size: 1rem;
            font-weight: 600;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
        }
        .check-btn {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: #fff;
        }
        .restart-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: #fff;
        }
        .game-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        }

        /* Feedback Messages */
        .feedback {
            padding: 1rem 1.5rem;
            border-radius: 10px;
            margin-top: 1.5rem;
            font-weight: 600;
            display: none;
        }
        .feedback.show { display: block; }
        .feedback.win {
            background: rgba(40, 167, 69, 0.2);
            border: 2px solid #28a745;
            color: #28a745;
            animation: pulse 0.5s;
        }
        .feedback.lose {
            background: rgba(220, 53, 69, 0.2);
            border: 2px solid #dc3545;
            color: #dc3545;
            animation: shake 0.5s;
        }

        /* ========================================================
           VIDEO TUTORIAL SIMULATOR - Fake video player
           ======================================================== */
        .video-section {
            margin-top: 2.5rem;
        }
        .video-section h3 {
            font-size: 1.3rem;
            color: #ffd700;
            margin-bottom: 1rem;
            text-align: center;
        }
        .video-player {
            background: #0a0a15;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
        }
        .video-header {
            background: linear-gradient(135deg, #2d2d44, #1a1a2e);
            padding: 0.6rem 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .video-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }
        .video-dot.red { background: #ff5f57; }
        .video-dot.yellow { background: #febc2e; }
        .video-dot.green { background: #28c840; }
        .video-title {
            flex: 1;
            text-align: center;
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.7);
        }
        .video-canvas {
            position: relative;
            min-height: 280px;
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 1.5rem;
        }
        .play-overlay {
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: background 0.3s;
        }
        .play-overlay:hover { background: rgba(0, 0, 0, 0.4); }
        .play-overlay.hidden { display: none; }
        .play-circle {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #ff6b6b, #ffd700);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.3s;
        }
        .play-circle:hover { transform: scale(1.1); }
        .play-triangle {
            width: 0;
            height: 0;
            border-left: 25px solid #1a1a2e;
            border-top: 15px solid transparent;
            border-bottom: 15px solid transparent;
            margin-left: 5px;
        }
        .video-controls {
            background: linear-gradient(135deg, #2d2d44, #1a1a2e);
            padding: 0.8rem 1rem;
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        .control-btn {
            background: none;
            border: none;
            color: #fff;
            font-size: 1.2rem;
            cursor: pointer;
            opacity: 0.8;
            transition: opacity 0.3s;
        }
        .control-btn:hover { opacity: 1; }
        .progress-bar {
            flex: 1;
            height: 6px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 3px;
            cursor: pointer;
            position: relative;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #ffd700, #ff6b6b);
            border-radius: 3px;
            width: 0%;
            transition: width 0.1s linear;
        }
        .time-display {
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.7);
            min-width: 80px;
            text-align: right;
        }

        /* Tutorial Demo Content */
        .tutorial-content {
            width: 100%;
            text-align: center;
        }
        .tutorial-step {
            font-size: 0.8rem;
            color: #ffd700;
            margin-bottom: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .tutorial-caption {
            font-size: 1.1rem;
            color: #fff;
            margin-bottom: 1rem;
            min-height: 30px;
        }
        .tutorial-demo {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1rem 0;
        }
        .demo-items {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin: 1rem 0;
        }
        .demo-item {
            min-width: 45px;
            height: 45px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #667eea;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 600;
            padding: 0 12px;
            transition: all 0.3s;
        }
        .demo-item.highlight {
            background: linear-gradient(135deg, #ffd700, #ff6b6b);
            color: #1a1a2e;
            transform: scale(1.15);
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
        }
        .demo-item.solved {
            background: #28a745;
        }
        .demo-arrow {
            font-size: 1.5rem;
            color: #ffd700;
            animation: bounce 1s infinite;
        }
        .tutorial-hint {
            background: rgba(255, 107, 107, 0.2);
            border-left: 3px solid #ff6b6b;
            padding: 0.8rem 1rem;
            border-radius: 0 8px 8px 0;
            margin-top: 1rem;
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.9);
        }
        .tutorial-hint::before {
            content: 'üí° Hint: ';
            font-weight: 600;
            color: #ffd700;
        }

        /* ========================================================
           GRID PUZZLE SPECIFIC STYLES
           ======================================================== */
        .grid-container {
            display: inline-block;
            background: rgba(0, 0, 0, 0.2);
            padding: 1rem;
            border-radius: 15px;
        }
        .puzzle-grid {
            display: grid;
            gap: 8px;
        }
        .grid-cell {
            width: 60px;
            height: 60px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s;
        }
        .grid-cell:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: #ffd700;
        }
        .grid-cell.marked {
            background: linear-gradient(135deg, #28a745, #20c997);
            border-color: #28a745;
        }
        .grid-cell.crossed {
            background: rgba(220, 53, 69, 0.3);
            border-color: #dc3545;
        }
        .clue-box {
            background: rgba(102, 126, 234, 0.2);
            border-radius: 10px;
            padding: 1rem;
            margin: 1rem 0;
            text-align: left;
        }
        .clue-item {
            padding: 0.5rem;
            color: rgba(255, 255, 255, 0.9);
            font-size: 0.95rem;
        }

        /* ========================================================
           SYMBOL DECODER SPECIFIC STYLES
           ======================================================== */
        .symbol-equation {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
            padding: 0.8rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            margin-bottom: 0.8rem;
        }
        .symbol-item {
            font-size: 1.8rem;
        }
        .symbol-input {
            width: 60px;
            padding: 0.5rem;
            font-size: 1.1rem;
            text-align: center;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
        }
        .symbol-input:focus {
            outline: none;
            border-color: #ffd700;
        }

        /* ========================================================
           ODD ONE OUT SPECIFIC STYLES
           ======================================================== */
        .options-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            max-width: 400px;
            margin: 1.5rem auto;
        }
        .option-btn {
            padding: 1.2rem 1rem;
            background: rgba(255, 255, 255, 0.08);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            color: #fff;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s;
        }
        .option-btn:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: #ffd700;
            transform: translateY(-3px);
        }
        .option-btn.selected {
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-color: #667eea;
        }
        .option-btn.correct {
            background: linear-gradient(135deg, #28a745, #20c997);
            border-color: #28a745;
        }
        .option-btn.wrong {
            background: rgba(220, 53, 69, 0.3);
            border-color: #dc3545;
        }

        /* ========================================================
           RESPONSIVE DESIGN - Mobile & Tablet adjustments
           ======================================================== */
        @media (max-width: 768px) {
            .nav-links { display: none; }
            .hero { padding: 100px 5% 30px; min-height: 50vh; }
            .games-section { padding: 30px 5% 40px; }
            .game-screen { padding: 80px 4% 40px; }
            .puzzle-container { padding: 1.5rem; }
            .puzzle-item { min-width: 40px; height: 40px; font-size: 1.1rem; }
            .grid-cell { width: 50px; height: 50px; font-size: 1.2rem; }
            .options-grid { grid-template-columns: 1fr; }
            .video-canvas { min-height: 250px; }
            .info-panel { padding: 1rem; }
            .btn-group { flex-direction: column; align-items: center; }
            .game-btn { width: 100%; max-width: 250px; }
        }
        @media (max-width: 480px) {
            .header { padding: 0.8rem 4%; }
            .hero h1 { font-size: 1.8rem; }
            .section-title { font-size: 1.4rem; }
            .game-card { padding: 1.5rem; }
            .game-icon { font-size: 2.5rem; }
            .puzzle-item { min-width: 35px; height: 35px; font-size: 1rem; padding: 0 10px; }
            .grid-cell { width: 45px; height: 45px; }
            .answer-input { width: 120px; font-size: 1rem; }
            .play-circle { width: 60px; height: 60px; }
            .play-triangle { border-left-width: 18px; border-top-width: 11px; border-bottom-width: 11px; }
        }
    </style>
</head>
<body>
    <!-- ============================================================
         ANIMATED BACKGROUND PARTICLES
         ============================================================ -->
    <div class="bg-animated">
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
    </div>

    <!-- ============================================================
         FIXED HEADER / NAVIGATION
         ============================================================ -->
    <header class="header">
        <div class="logo" onclick="showScreen('home')">üß© Logic Puzzle Master</div>
        <nav>
            <ul class="nav-links">
                <li><a href="#" onclick="showScreen('home')">Home</a></li>
                <li><a href="#games-section">Games</a></li>
                <li><a href="#benefits">Benefits</a></li>
            </ul>
        </nav>
    </header>

    <!-- ============================================================
         HOME SCREEN
         ============================================================ -->
    <div id="home-screen" class="screen active">
        <!-- Hero Section -->
        <section class="hero">
            <h1>Train Your Brain with Logic Puzzles</h1>
            <p>Challenge yourself with 5+ unique puzzle games designed to boost cognitive skills, pattern recognition, and logical reasoning. Interactive tutorials included!</p>
            <button class="hero-btn" onclick="document.getElementById('games-section').scrollIntoView({behavior: 'smooth'})">
                Start Playing Now
            </button>
        </section>

        <!-- Main Games Section -->
        <section id="games-section" class="games-section">
            <h2 class="section-title">üéÆ Featured Games</h2>
            <div class="games-grid">
                <!-- Game 1: Number Pattern -->
                <div class="game-card" onclick="showScreen('game1')">
                    <span class="game-badge badge-popular">Popular</span>
                    <span class="game-icon">üî¢</span>
                    <h3>Number Pattern Puzzle</h3>
                    <p>Find the missing number in mathematical sequences using pattern recognition.</p>
                </div>

                <!-- Game 2: Symbol Decoder -->
                <div class="game-card" onclick="showScreen('game2')">
                    <span class="game-badge badge-new">New</span>
                    <span class="game-icon">üîê</span>
                    <h3>Symbol Decoder</h3>
                    <p>Crack the code by figuring out what number each symbol represents.</p>
                </div>

                <!-- Game 3: Equation Logic -->
                <div class="game-card" onclick="showScreen('game3')">
                    <span class="game-icon">‚ûï</span>
                    <h3>Equation Logic Solver</h3>
                    <p>Complete equations by finding the missing numbers or operators.</p>
                </div>

                <!-- Game 4: Odd One Out -->
                <div class="game-card" onclick="showScreen('game4')">
                    <span class="game-icon">üéØ</span>
                    <h3>Odd-One-Out</h3>
                    <p>Identify the item that doesn't belong based on logical categorization.</p>
                </div>

                <!-- Game 5: Pattern Grid -->
                <div class="game-card" onclick="showScreen('game5')">
                    <span class="game-icon">üìä</span>
                    <h3>Pattern Grid Deduction</h3>
                    <p>Use logical clues to correctly mark cells in a grid puzzle.</p>
                </div>
            </div>
        </section>

        <!-- More Games Expandable Section -->
        <section class="more-games-section">
            <button class="expand-btn" id="expandBtn" onclick="toggleMoreGames()">
                <span>üé≤ Discover More Games</span>
                <span class="expand-icon">‚ñº</span>
            </button>
            <div class="expandable-content" id="moreGamesContent">
                <div class="more-games-grid">
                    <!-- Coming Soon Game 1 -->
                    <div class="coming-soon-card" onclick="showModal('modal1')">
                        <span class="coming-soon-badge">Coming Soon</span>
                        <span class="game-icon">üé≤</span>
                        <span class="lock-overlay">üîí</span>
                        <h3>Logic Matrix Puzzle</h3>
                        <p>Advanced matrix-based deduction challenges</p>
                    </div>

                    <!-- Coming Soon Game 2 -->
                    <div class="coming-soon-card" onclick="showModal('modal2')">
                        <span class="coming-soon-badge">Coming Soon</span>
                        <span class="game-icon">üßÆ</span>
                        <span class="lock-overlay">üîí</span>
                        <h3>Sudoku Variants</h3>
                        <p>Classic and twist sudoku challenges</p>
                    </div>

                    <!-- Coming Soon Game 3 -->
                    <div class="coming-soon-card" onclick="showModal('modal3')">
                        <span class="coming-soon-badge">Coming Soon</span>
                        <span class="game-icon">üîÆ</span>
                        <span class="lock-overlay">üîí</span>
                        <h3>Sequence Predictor</h3>
                        <p>Predict complex visual & number sequences</p>
                    </div>

                    <!-- Coming Soon Game 4 -->
                    <div class="coming-soon-card" onclick="showModal('modal4')">
                        <span class="coming-soon-badge">Coming Soon</span>
                        <span class="game-icon">‚öñÔ∏è</span>
                        <span class="lock-overlay">üîí</span>
                        <h3>Balance Scale Logic</h3>
                        <p>Deduce weights using balance comparisons</p>
                    </div>

                    <!-- Coming Soon Game 5 -->
                    <div class="coming-soon-card" onclick="showModal('modal5')">
                        <span class="coming-soon-badge">Coming Q2</span>
                        <span class="game-icon">üó∫Ô∏è</span>
                        <span class="lock-overlay">üîí</span>
                        <h3>Path Finder Logic</h3>
                        <p>Navigate mazes using logical constraints</p>
                    </div>

                    <!-- Coming Soon Game 6 -->
                    <div class="coming-soon-card" onclick="showModal('modal6')">
                        <span class="coming-soon-badge">Coming Q2</span>
                        <span class="game-icon">üé≠</span>
                        <span class="lock-overlay">üîí</span>
                        <h3>Truth & Lies Puzzle</h3>
                        <p>Determine who's telling the truth</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Benefits Section -->
        <section id="benefits" class="benefits-section">
            <h2 class="section-title">üí™ Why Play Logic Puzzles?</h2>
            <div class="benefits-grid">
                <div class="benefit-item">
                    <div class="benefit-icon">üß†</div>
                    <h4>Boost Brain Power</h4>
                    <p>Strengthen neural connections and improve cognitive function</p>
                </div>
                <div class="benefit-item">
                    <div class="benefit-icon">üéØ</div>
                    <h4>Improve Focus</h4>
                    <p>Train your concentration and attention to detail</p>
                </div>
                <div class="benefit-item">
                    <div class="benefit-icon">üí°</div>
                    <h4>Problem Solving</h4>
                    <p>Develop analytical thinking and creative solutions</p>
                </div>
                <div class="benefit-item">
                    <div class="benefit-icon">üìà</div>
                    <h4>Pattern Recognition</h4>
                    <p>Enhance ability to identify trends and relationships</p>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <p>¬© 2024 Logic Puzzle Master. Train your brain daily!</p>
            <div class="footer-links">
                <a href="#">Privacy Policy</a>
                <a href="#">Terms of Use</a>
                <a href="#">Contact</a>
            </div>
        </footer>
    </div>

    <!-- ============================================================
         COMING SOON MODALS
         ============================================================ -->
    <!-- Modal 1: Logic Matrix -->
    <div class="modal-overlay" id="modal1">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal('modal1')">√ó</button>
            <div class="modal-icon">üé≤</div>
            <h2>Logic Matrix Puzzle</h2>
            <p>An advanced puzzle game where you use elimination and deduction to solve complex matrix-based challenges. Perfect for those who love systematic thinking!</p>
            <ul class="modal-features">
                <li>Multiple difficulty levels</li>
                <li>Clue-based deduction system</li>
                <li>Progress tracking</li>
                <li>Interactive hints</li>
            </ul>
            <button class="notify-btn" onclick="alert('Thanks! We\'ll notify you when this game launches!'); closeModal('modal1')">
                Notify Me When Available
            </button>
        </div>
    </div>

    <!-- Modal 2: Sudoku Variants -->
    <div class="modal-overlay" id="modal2">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal('modal2')">√ó</button>
            <div class="modal-icon">üßÆ</div>
            <h2>Sudoku Variants</h2>
            <p>Experience classic Sudoku with exciting twists! Including Killer Sudoku, Diagonal Sudoku, and other creative variations.</p>
            <ul class="modal-features">
                <li>6 unique Sudoku variants</li>
                <li>Auto-error detection</li>
                <li>Pencil mark support</li>
                <li>Daily challenges</li>
            </ul>
            <button class="notify-btn" onclick="alert('Thanks! We\'ll notify you when this game launches!'); closeModal('modal2')">
                Notify Me When Available
            </button>
        </div>
    </div>

    <!-- Modal 3: Sequence Predictor -->
    <div class="modal-overlay" id="modal3">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal('modal3')">√ó</button>
            <div class="modal-icon">üîÆ</div>
            <h2>Sequence Predictor</h2>
            <p>Test your pattern recognition with complex visual and numerical sequences. Predict what comes next based on multiple interacting rules!</p>
            <ul class="modal-features">
                <li>Visual pattern challenges</li>
                <li>Multi-rule sequences</li>
                <li>Timed challenges</li>
                <li>Achievement system</li>
            </ul>
            <button class="notify-btn" onclick="alert('Thanks! We\'ll notify you when this game launches!'); closeModal('modal3')">
                Notify Me When Available
            </button>
        </div>
    </div>

    <!-- Modal 4: Balance Scale Logic -->
    <div class="modal-overlay" id="modal4">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal('modal4')">√ó</button>
            <div class="modal-icon">‚öñÔ∏è</div>
            <h2>Balance Scale Logic</h2>
            <p>Deduce the weight of unknown objects using balance scale comparisons. A classic logic puzzle brought to the digital age!</p>
            <ul class="modal-features">
                <li>Drag-and-drop interface</li>
                <li>Visual weight comparisons</li>
                <li>Limited weighing challenges</li>
                <li>Solution optimizer</li>
            </ul>
            <button class="notify-btn" onclick="alert('Thanks! We\'ll notify you when this game launches!'); closeModal('modal4')">
                Notify Me When Available
            </button>
        </div>
    </div>

    <!-- Modal 5: Path Finder Logic -->
    <div class="modal-overlay" id="modal5">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal('modal5')">√ó</button>
            <div class="modal-icon">üó∫Ô∏è</div>
            <h2>Path Finder Logic</h2>
            <p>Navigate through mazes and grids using logical constraints. Each cell has rules about which directions you can travel!</p>
            <ul class="modal-features">
                <li>Procedurally generated mazes</li>
                <li>Multiple constraint types</li>
                <li>Shortest path bonuses</li>
                <li>Map editor mode</li>
            </ul>
            <button class="notify-btn" onclick="alert('Thanks! We\'ll notify you when this game launches!'); closeModal('modal5')">
                Notify Me When Available
            </button>
        </div>
    </div>

    <!-- Modal 6: Truth & Lies -->
    <div class="modal-overlay" id="modal6">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal('modal6')">√ó</button>
            <div class="modal-icon">üé≠</div>
            <h2>Truth & Lies Puzzle</h2>
            <p>Classic logic puzzle where characters make statements. Some always tell the truth, some always lie. Can you figure out who's who?</p>
            <ul class="modal-features">
                <li>Story-based scenarios</li>
                <li>Increasing complexity</li>
                <li>Detective narrative</li>
                <li>Hint system</li>
            </ul>
            <button class="notify-btn" onclick="alert('Thanks! We\'ll notify you when this game launches!'); closeModal('modal6')">
                Notify Me When Available
            </button>
        </div>
    </div>

    <!-- ============================================================
         GAME 1: NUMBER PATTERN PUZZLE
         ============================================================ -->
    <div id="game1-screen" class="screen">
        <div class="game-screen">
            <button class="back-btn" onclick="showScreen('home')">‚Üê Back to Home</button>

            <div class="game-header">
                <h1 class="game-title">üî¢ Number Pattern Puzzle</h1>
                <p class="game-subtitle">Find the missing number in the sequence</p>
            </div>

            <!-- Instructions Panel -->
            <div class="info-panel">
                <h3>üìñ How to Play</h3>
                <ol>
                    <li>Observe the sequence of numbers shown</li>
                    <li>Identify the pattern (adding, multiplying, etc.)</li>
                    <li>Calculate the missing number marked with "?"</li>
                    <li>Enter your answer and click "Check Answer"</li>
                </ol>
            </div>

            <!-- Objectives Panel -->
            <div class="info-panel objectives-panel">
                <h3>üéØ Objectives & Benefits</h3>
                <p><strong>Goal:</strong> Develop pattern recognition and mathematical reasoning skills.</p>
                <p><strong>Benefits:</strong> Improves numerical fluency, enhances analytical thinking, and strengthens problem-solving abilities used in math, coding, and everyday decisions.</p>
            </div>

            <!-- Hints Panel -->
            <div class="info-panel hints-panel">
                <h3>üí° Hints</h3>
                <ul>
                    <li>Calculate the difference between consecutive numbers</li>
                    <li>Check if numbers are multiplied by a constant factor</li>
                    <li>Look for patterns like squares, cubes, or Fibonacci</li>
                </ul>
            </div>

            <!-- Puzzle Container -->
            <div class="puzzle-container">
                <h3 style="margin-bottom: 1rem; color: #ffd700;">Complete the Sequence:</h3>
                <div class="puzzle-display" id="game1-display"></div>
                <input type="number" class="answer-input" id="game1-answer" placeholder="?">
                <div class="btn-group">
                    <button class="game-btn check-btn" onclick="checkGame1()">Check Answer</button>
                    <button class="game-btn restart-btn" onclick="generateGame1()">New Puzzle</button>
                </div>
                <div class="feedback" id="game1-feedback"></div>
            </div>

            <!-- Video Tutorial Section -->
            <div class="video-section">
                <h3>üé¨ Video Tutorial</h3>
                <div class="video-player">
                    <div class="video-header">
                        <span class="video-dot red"></span>
                        <span class="video-dot yellow"></span>
                        <span class="video-dot green"></span>
                        <span class="video-title">How to Solve Number Patterns</span>
                    </div>
                    <div class="video-canvas" id="tutorial1-canvas">
                        <div class="play-overlay" id="tutorial1-overlay" onclick="startTutorial(1)">
                            <div class="play-circle">
                                <div class="play-triangle"></div>
                            </div>
                        </div>
                        <div class="tutorial-content" id="tutorial1-content"></div>
                    </div>
                    <div class="video-controls">
                        <button class="control-btn" id="tutorial1-playpause" onclick="toggleTutorial(1)">‚ñ∂</button>
                        <div class="progress-bar" onclick="seekTutorial(event, 1)">
                            <div class="progress-fill" id="tutorial1-progress"></div>
                        </div>
                        <span class="time-display" id="tutorial1-time">0:00 / 0:15</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ============================================================
         GAME 2: SYMBOL DECODER PUZZLE
         ============================================================ -->
    <div id="game2-screen" class="screen">
        <div class="game-screen">
            <button class="back-btn" onclick="showScreen('home')">‚Üê Back to Home</button>

            <div class="game-header">
                <h1 class="game-title">üîê Symbol Decoder</h1>
                <p class="game-subtitle">Crack the code! What number does each symbol represent?</p>
            </div>

            <div class="info-panel">
                <h3>üìñ How to Play</h3>
                <ol>
                    <li>Study the equations using symbols (üî¥, üîµ, üü¢)</li>
                    <li>Use algebraic reasoning to deduce each symbol's value</li>
                    <li>Enter the correct number for each symbol</li>
                    <li>Click "Check Answer" to verify your solution</li>
                </ol>
            </div>

            <div class="info-panel objectives-panel">
                <h3>üéØ Objectives & Benefits</h3>
                <p><strong>Goal:</strong> Decode symbol values using logical deduction.</p>
                <p><strong>Benefits:</strong> Builds algebraic thinking, strengthens substitution skills, and develops systematic problem-solving approaches essential for mathematics.</p>
            </div>

            <div class="info-panel hints-panel">
                <h3>üí° Hints</h3>
                <ul>
                    <li>Start with equations that have only one unknown</li>
                    <li>Substitute known values into other equations</li>
                    <li>Work step-by-step, solving one symbol at a time</li>
                </ul>
            </div>

            <div class="puzzle-container">
                <h3 style="margin-bottom: 1rem; color: #ffd700;">Decode the Symbols:</h3>
                <div id="game2-equations"></div>
                <div style="margin-top: 1.5rem;">
                    <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 1.5rem;">
                        <div style="text-align: center;">
                            <span style="font-size: 2rem;">üî¥</span>
                            <input type="number" class="symbol-input" id="symbol-red" placeholder="?">
                        </div>
                        <div style="text-align: center;">
                            <span style="font-size: 2rem;">üîµ</span>
                            <input type="number" class="symbol-input" id="symbol-blue" placeholder="?">
                        </div>
                        <div style="text-align: center;">
                            <span style="font-size: 2rem;">üü¢</span>
                            <input type="number" class="symbol-input" id="symbol-green" placeholder="?">
                        </div>
                    </div>
                </div>
                <div class="btn-group">
                    <button class="game-btn check-btn" onclick="checkGame2()">Check Answer</button>
                    <button class="game-btn restart-btn" onclick="generateGame2()">New Puzzle</button>
                </div>
                <div class="feedback" id="game2-feedback"></div>
            </div>

            <div class="video-section">
                <h3>üé¨ Video Tutorial</h3>
                <div class="video-player">
                    <div class="video-header">
                        <span class="video-dot red"></span>
                        <span class="video-dot yellow"></span>
                        <span class="video-dot green"></span>
                        <span class="video-title">Symbol Decoder Tutorial</span>
                    </div>
                    <div class="video-canvas" id="tutorial2-canvas">
                        <div class="play-overlay" id="tutorial2-overlay" onclick="startTutorial(2)">
                            <div class="play-circle">
                                <div class="play-triangle"></div>
                            </div>
                        </div>
                        <div class="tutorial-content" id="tutorial2-content"></div>
                    </div>
                    <div class="video-controls">
                        <button class="control-btn" id="tutorial2-playpause" onclick="toggleTutorial(2)">‚ñ∂</button>
                        <div class="progress-bar" onclick="seekTutorial(event, 2)">
                            <div class="progress-fill" id="tutorial2-progress"></div>
                        </div>
                        <span class="time-display" id="tutorial2-time">0:00 / 0:18</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ============================================================
         GAME 3: EQUATION LOGIC SOLVER
         ============================================================ -->
    <div id="game3-screen" class="screen">
        <div class="game-screen">
            <button class="back-btn" onclick="showScreen('home')">‚Üê Back to Home</button>

            <div class="game-header">
                <h1 class="game-title">‚ûï Equation Logic Solver</h1>
                <p class="game-subtitle">Find the missing number or operator</p>
            </div>

            <div class="info-panel">
                <h3>üìñ How to Play</h3>
                <ol>
                    <li>Look at the incomplete equation</li>
                    <li>Figure out what's missing (number or operator)</li>
                    <li>Enter the missing piece to complete the equation</li>
                    <li>The equation must be mathematically correct</li>
                </ol>
            </div>

            <div class="info-panel objectives-panel">
                <h3>üéØ Objectives & Benefits</h3>
                <p><strong>Goal:</strong> Complete equations using logical and arithmetic reasoning.</p>
                <p><strong>Benefits:</strong> Reinforces arithmetic operations, develops reverse calculation skills, and improves mental math abilities.</p>
            </div>

            <div class="info-panel hints-panel">
                <h3>üí° Hints</h3>
                <ul>
                    <li>For missing numbers: use inverse operations</li>
                    <li>For missing operators: test each operation (+, -, √ó, √∑)</li>
                    <li>Double-check by substituting your answer back</li>
                </ul>
            </div>

            <div class="puzzle-container">
                <h3 style="margin-bottom: 1rem; color: #ffd700;">Complete the Equation:</h3>
                <div class="puzzle-display" id="game3-display"></div>
                <input type="text" class="answer-input" id="game3-answer" placeholder="?" style="width: 100px;">
                <div class="btn-group">
                    <button class="game-btn check-btn" onclick="checkGame3()">Check Answer</button>
                    <button class="game-btn restart-btn" onclick="generateGame3()">New Puzzle</button>
                </div>
                <div class="feedback" id="game3-feedback"></div>
            </div>

            <div class="video-section">
                <h3>üé¨ Video Tutorial</h3>
                <div class="video-player">
                    <div class="video-header">
                        <span class="video-dot red"></span>
                        <span class="video-dot yellow"></span>
                        <span class="video-dot green"></span>
                        <span class="video-title">Equation Logic Tutorial</span>
                    </div>
                    <div class="video-canvas" id="tutorial3-canvas">
                        <div class="play-overlay" id="tutorial3-overlay" onclick="startTutorial(3)">
                            <div class="play-circle">
                                <div class="play-triangle"></div>
                            </div>
                        </div>
                        <div class="tutorial-content" id="tutorial3-content"></div>
                    </div>
                    <div class="video-controls">
                        <button class="control-btn" id="tutorial3-playpause" onclick="toggleTutorial(3)">‚ñ∂</button>
                        <div class="progress-bar" onclick="seekTutorial(event, 3)">
                            <div class="progress-fill" id="tutorial3-progress"></div>
                        </div>
                        <span class="time-display" id="tutorial3-time">0:00 / 0:15</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ============================================================
         GAME 4: ODD ONE OUT
         ============================================================ -->
    <div id="game4-screen" class="screen">
        <div class="game-screen">
            <button class="back-btn" onclick="showScreen('home')">‚Üê Back to Home</button>

            <div class="game-header">
                <h1 class="game-title">üéØ Odd-One-Out</h1>
                <p class="game-subtitle">Find the item that doesn't belong</p>
            </div>

            <div class="info-panel">
                <h3>üìñ How to Play</h3>
                <ol>
                    <li>Look at the four items presented</li>
                    <li>Identify the common category or property</li>
                    <li>Find the one item that doesn't fit</li>
                    <li>Click on the odd one out</li>
                </ol>
            </div>

            <div class="info-panel objectives-panel">
                <h3>üéØ Objectives & Benefits</h3>
                <p><strong>Goal:</strong> Identify items that don't belong in a group.</p>
                <p><strong>Benefits:</strong> Enhances categorization skills, improves critical thinking, and develops the ability to identify relationships and exceptions.</p>
            </div>

            <div class="info-panel hints-panel">
                <h3>üí° Hints</h3>
                <ul>
                    <li>Think about what category 3 items share</li>
                    <li>Consider properties: type, color, function, origin</li>
                    <li>The odd one might look similar but be different fundamentally</li>
                </ul>
            </div>

            <div class="puzzle-container">
                <h3 style="margin-bottom: 1rem; color: #ffd700;">Which one doesn't belong?</h3>
                <p id="game4-category" style="color: rgba(255,255,255,0.7); margin-bottom: 1rem;"></p>
                <div class="options-grid" id="game4-options"></div>
                <div class="btn-group">
                    <button class="game-btn restart-btn" onclick="generateGame4()">New Puzzle</button>
                </div>
                <div class="feedback" id="game4-feedback"></div>
            </div>

            <div class="video-section">
                <h3>üé¨ Video Tutorial</h3>
                <div class="video-player">
                    <div class="video-header">
                        <span class="video-dot red"></span>
                        <span class="video-dot yellow"></span>
                        <span class="video-dot green"></span>
                        <span class="video-title">Odd-One-Out Tutorial</span>
                    </div>
                    <div class="video-canvas" id="tutorial4-canvas">
                        <div class="play-overlay" id="tutorial4-overlay" onclick="startTutorial(4)">
                            <div class="play-circle">
                                <div class="play-triangle"></div>
                            </div>
                        </div>
                        <div class="tutorial-content" id="tutorial4-content"></div>
                    </div>
                    <div class="video-controls">
                        <button class="control-btn" id="tutorial4-playpause" onclick="toggleTutorial(4)">‚ñ∂</button>
                        <div class="progress-bar" onclick="seekTutorial(event, 4)">
                            <div class="progress-fill" id="tutorial4-progress"></div>
                        </div>
                        <span class="time-display" id="tutorial4-time">0:00 / 0:12</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ============================================================
         GAME 5: PATTERN GRID DEDUCTION
         ============================================================ -->
    <div id="game5-screen" class="screen">
        <div class="game-screen">
            <button class="back-btn" onclick="showScreen('home')">‚Üê Back to Home</button>

            <div class="game-header">
                <h1 class="game-title">üìä Pattern Grid Deduction</h1>
                <p class="game-subtitle">Use clues to mark the correct cells</p>
            </div>

            <div class="info-panel">
                <h3>üìñ How to Play</h3>
                <ol>
                    <li>Read the clues about rows and columns</li>
                    <li>Click cells to mark them (‚úì for yes, ‚úó for no)</li>
                    <li>Each click cycles through: empty ‚Üí ‚úì ‚Üí ‚úó</li>
                    <li>Match all clues to solve the puzzle</li>
                </ol>
            </div>

            <div class="info-panel objectives-panel">
                <h3>üéØ Objectives & Benefits</h3>
                <p><strong>Goal:</strong> Correctly mark grid cells based on logical clues.</p>
                <p><strong>Benefits:</strong> Develops spatial reasoning, strengthens deductive logic, and improves systematic constraint satisfaction skills.</p>
            </div>

            <div class="info-panel hints-panel">
                <h3>üí° Hints</h3>
                <ul>
                    <li>Start with clues that give definite information</li>
                    <li>Use process of elimination for uncertain cells</li>
                    <li>Cross-reference row and column clues together</li>
                </ul>
            </div>

            <div class="puzzle-container">
                <h3 style="margin-bottom: 1rem; color: #ffd700;">Mark the Grid:</h3>
                <div class="clue-box" id="game5-clues"></div>
                <div class="grid-container">
                    <div class="puzzle-grid" id="game5-grid" style="grid-template-columns: repeat(3, 1fr);"></div>
                </div>
                <div class="btn-group">
                    <button class="game-btn check-btn" onclick="checkGame5()">Check Answer</button>
                    <button class="game-btn restart-btn" onclick="generateGame5()">New Puzzle</button>
                </div>
                <div class="feedback" id="game5-feedback"></div>
            </div>

            <div class="video-section">
                <h3>üé¨ Video Tutorial</h3>
                <div class="video-player">
                    <div class="video-header">
                        <span class="video-dot red"></span>
                        <span class="video-dot yellow"></span>
                        <span class="video-dot green"></span>
                        <span class="video-title">Grid Deduction Tutorial</span>
                    </div>
                    <div class="video-canvas" id="tutorial5-canvas">
                        <div class="play-overlay" id="tutorial5-overlay" onclick="startTutorial(5)">
                            <div class="play-circle">
                                <div class="play-triangle"></div>
                            </div>
                        </div>
                        <div class="tutorial-content" id="tutorial5-content"></div>
                    </div>
                    <div class="video-controls">
                        <button class="control-btn" id="tutorial5-playpause" onclick="toggleTutorial(5)">‚ñ∂</button>
                        <div class="progress-bar" onclick="seekTutorial(event, 5)">
                            <div class="progress-fill" id="tutorial5-progress"></div>
                        </div>
                        <span class="time-display" id="tutorial5-time">0:00 / 0:18</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ============================================================
         JAVASCRIPT - Game Logic & Interactivity
         ============================================================ -->
    <script>
        /* ===========================================================
           SCREEN MANAGEMENT
           =========================================================== */
        function showScreen(screenId) {
            // Hide all screens
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            // Show selected screen
            document.getElementById(screenId + '-screen').classList.add('active');
            // Scroll to top
            window.scrollTo(0, 0);
            // Generate puzzle if navigating to a game
            if (screenId === 'game1') generateGame1();
            if (screenId === 'game2') generateGame2();
            if (screenId === 'game3') generateGame3();
            if (screenId === 'game4') generateGame4();
            if (screenId === 'game5') generateGame5();
        }

        /* ===========================================================
           MORE GAMES EXPANDABLE SECTION
           =========================================================== */
        function toggleMoreGames() {
            const btn = document.getElementById('expandBtn');
            const content = document.getElementById('moreGamesContent');
            btn.classList.toggle('expanded');
            content.classList.toggle('show');
        }

        /* ===========================================================
           MODAL FUNCTIONS
           =========================================================== */
        function showModal(modalId) {
            document.getElementById(modalId).classList.add('active');
        }
        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }
        // Close modal on outside click
        document.querySelectorAll('.modal-overlay').forEach(modal => {
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    modal.classList.remove('active');
                }
            });
        });

        /* ===========================================================
           GAME 1: NUMBER PATTERN PUZZLE
           =========================================================== */
        let game1Data = {};

        function generateGame1() {
            // Clear previous state
            document.getElementById('game1-feedback').classList.remove('show');
            document.getElementById('game1-answer').value = '';

            // Generate pattern type randomly
            const patternTypes = ['add', 'multiply', 'squares', 'fibonacci'];
            const type = patternTypes[Math.floor(Math.random() * patternTypes.length)];

            let sequence = [];
            let answer;
            const missingIndex = Math.floor(Math.random() * 4) + 1; // Position 1-4

            if (type === 'add') {
                const start = Math.floor(Math.random() * 10) + 1;
                const diff = Math.floor(Math.random() * 8) + 2;
                for (let i = 0; i < 6; i++) {
                    sequence.push(start + (diff * i));
                }
            } else if (type === 'multiply') {
                const start = Math.floor(Math.random() * 3) + 2;
                const mult = Math.floor(Math.random() * 2) + 2;
                let val = start;
                for (let i = 0; i < 6; i++) {
                    sequence.push(val);
                    val *= mult;
                }
            } else if (type === 'squares') {
                const offset = Math.floor(Math.random() * 3);
                for (let i = 1; i <= 6; i++) {
                    sequence.push((i + offset) * (i + offset));
                }
            } else { // fibonacci-like
                const a = Math.floor(Math.random() * 5) + 1;
                const b = Math.floor(Math.random() * 5) + 1;
                sequence = [a, b];
                for (let i = 2; i < 6; i++) {
                    sequence.push(sequence[i-1] + sequence[i-2]);
                }
            }

            answer = sequence[missingIndex];
            game1Data = { sequence: [...sequence], answer, missingIndex };

            // Render display
            const display = document.getElementById('game1-display');
            display.innerHTML = sequence.map((num, idx) => {
                if (idx === missingIndex) {
                    return `<div class="puzzle-item mystery">?</div>`;
                }
                return `<div class="puzzle-item">${num}</div>`;
            }).join('');
        }

        function checkGame1() {
            const userAnswer = parseInt(document.getElementById('game1-answer').value);
            const feedback = document.getElementById('game1-feedback');

            if (userAnswer === game1Data.answer) {
                feedback.className = 'feedback show win';
                feedback.textContent = `üéâ Correct! The answer is ${game1Data.answer}!`;
            } else {
                feedback.className = 'feedback show lose';
                feedback.textContent = `‚ùå Not quite. The correct answer was ${game1Data.answer}. Try again!`;
            }
        }

        /* ===========================================================
           GAME 2: SYMBOL DECODER
           =========================================================== */
        let game2Data = {};

        function generateGame2() {
            document.getElementById('game2-feedback').classList.remove('show');
            document.getElementById('symbol-red').value = '';
            document.getElementById('symbol-blue').value = '';
            document.getElementById('symbol-green').value = '';

            // Generate random values for symbols
            const red = Math.floor(Math.random() * 9) + 1;
            const blue = Math.floor(Math.random() * 9) + 1;
            const green = Math.floor(Math.random() * 9) + 1;
            game2Data = { red, blue, green };

            // Generate equations
            const eq1 = `üî¥ + üî¥ = ${red * 2}`;
            const eq2 = `üî¥ + üîµ = ${red + blue}`;
            const eq3 = `üîµ + üü¢ = ${blue + green}`;
            const eq4 = `üî¥ + üü¢ = ${red + green}`;

            const equations = document.getElementById('game2-equations');
            equations.innerHTML = `
                <div class="symbol-equation"><span class="symbol-item">üî¥</span> + <span class="symbol-item">üî¥</span> = <span style="font-size:1.3rem;font-weight:600;">${red * 2}</span></div>
                <div class="symbol-equation"><span class="symbol-item">üî¥</span> + <span class="symbol-item">üîµ</span> = <span style="font-size:1.3rem;font-weight:600;">${red + blue}</span></div>
                <div class="symbol-equation"><span class="symbol-item">üîµ</span> + <span class="symbol-item">üü¢</span> = <span style="font-size:1.3rem;font-weight:600;">${blue + green}</span></div>
                <div class="symbol-equation"><span class="symbol-item">üî¥</span> + <span class="symbol-item">üü¢</span> = <span style="font-size:1.3rem;font-weight:600;">${red + green}</span></div>
            `;
        }

        function checkGame2() {
            const userRed = parseInt(document.getElementById('symbol-red').value);
            const userBlue = parseInt(document.getElementById('symbol-blue').value);
            const userGreen = parseInt(document.getElementById('symbol-green').value);
            const feedback = document.getElementById('game2-feedback');

            if (userRed === game2Data.red && userBlue === game2Data.blue && userGreen === game2Data.green) {
                feedback.className = 'feedback show win';
                feedback.textContent = `üéâ Excellent! üî¥=${game2Data.red}, üîµ=${game2Data.blue}, üü¢=${game2Data.green}`;
            } else {
                feedback.className = 'feedback show lose';
                feedback.textContent = `‚ùå Not correct. The values were: üî¥=${game2Data.red}, üîµ=${game2Data.blue}, üü¢=${game2Data.green}`;
            }
        }

        /* ===========================================================
           GAME 3: EQUATION LOGIC SOLVER
           =========================================================== */
        let game3Data = {};

        function generateGame3() {
            document.getElementById('game3-feedback').classList.remove('show');
            document.getElementById('game3-answer').value = '';

            const operators = ['+', '-', '√ó', '√∑'];
            const missingType = Math.random() < 0.5 ? 'number' : 'operator';

            let a, b, op, result, answer;

            if (missingType === 'operator') {
                // Find number to make equation work with random operator
                op = operators[Math.floor(Math.random() * operators.length)];
                a = Math.floor(Math.random() * 12) + 2;
                b = Math.floor(Math.random() * 10) + 2;

                if (op === '+') result = a + b;
                else if (op === '-') result = a - b;
                else if (op === '√ó') result = a * b;
                else { // division - ensure clean result
                    b = Math.floor(Math.random() * 8) + 2;
                    a = b * (Math.floor(Math.random() * 8) + 2);
                    result = a / b;
                }
                answer = op;
                game3Data = { a, b, op, result, answer, missingType };

                document.getElementById('game3-display').innerHTML = `
                    <div class="puzzle-item">${a}</div>
                    <div class="puzzle-item mystery">?</div>
                    <div class="puzzle-item">${b}</div>
                    <div class="puzzle-item">=</div>
                    <div class="puzzle-item">${result}</div>
                `;
            } else {
                // Missing number
                op = operators[Math.floor(Math.random() * operators.length)];

                if (op === '+') {
                    a = Math.floor(Math.random() * 15) + 5;
                    b = Math.floor(Math.random() * 15) + 5;
                    result = a + b;
                } else if (op === '-') {
                    a = Math.floor(Math.random() * 20) + 10;
                    b = Math.floor(Math.random() * (a - 1)) + 1;
                    result = a - b;
                } else if (op === '√ó') {
                    a = Math.floor(Math.random() * 10) + 2;
                    b = Math.floor(Math.random() * 10) + 2;
                    result = a * b;
                } else {
                    b = Math.floor(Math.random() * 8) + 2;
                    result = Math.floor(Math.random() * 10) + 2;
                    a = b * result;
                }

                const missingPos = Math.floor(Math.random() * 3); // 0=a, 1=b, 2=result
                if (missingPos === 0) answer = a;
                else if (missingPos === 1) answer = b;
                else answer = result;

                game3Data = { a, b, op, result, answer, missingType, missingPos };

                const opSymbol = op;
                document.getElementById('game3-display').innerHTML = `
                    <div class="puzzle-item ${missingPos === 0 ? 'mystery' : ''}">${missingPos === 0 ? '?' : a}</div>
                    <div class="puzzle-item">${opSymbol}</div>
                    <div class="puzzle-item ${missingPos === 1 ? 'mystery' : ''}">${missingPos === 1 ? '?' : b}</div>
                    <div class="puzzle-item">=</div>
                    <div class="puzzle-item ${missingPos === 2 ? 'mystery' : ''}">${missingPos === 2 ? '?' : result}</div>
                `;
            }
        }

        function checkGame3() {
            const userAnswer = document.getElementById('game3-answer').value.trim();
            const feedback = document.getElementById('game3-feedback');

            let correct = false;
            if (game3Data.missingType === 'operator') {
                // Accept multiple formats for multiplication/division
                const normalizedAnswer = userAnswer.replace('*', '√ó').replace('x', '√ó').replace('/', '√∑');
                correct = normalizedAnswer === game3Data.answer;
            } else {
                correct = parseInt(userAnswer) === game3Data.answer;
            }

            if (correct) {
                feedback.className = 'feedback show win';
                feedback.textContent = `üéâ Correct! The answer is ${game3Data.answer}!`;
            } else {
                feedback.className = 'feedback show lose';
                feedback.textContent = `‚ùå Not quite. The correct answer was ${game3Data.answer}. Try again!`;
            }
        }

        /* ===========================================================
           GAME 4: ODD ONE OUT
           =========================================================== */
        let game4Data = {};

        const oddOneOutSets = [
            { category: 'Fruits', items: ['Apple', 'Banana', 'Orange', 'Carrot'], odd: 'Carrot', reason: 'vegetable' },
            { category: 'Animals', items: ['Dog', 'Cat', 'Bird', 'Table'], odd: 'Table', reason: 'not alive' },
            { category: 'Numbers', items: ['2', '4', '7', '8'], odd: '7', reason: 'odd number' },
            { category: 'Planets', items: ['Mars', 'Venus', 'Moon', 'Jupiter'], odd: 'Moon', reason: 'not a planet' },
            { category: 'Colors', items: ['Red', 'Blue', 'Happy', 'Green'], odd: 'Happy', reason: 'emotion, not color' },
            { category: 'Vehicles', items: ['Car', 'Bicycle', 'Airplane', 'House'], odd: 'House', reason: 'not a vehicle' },
            { category: 'Even Numbers', items: ['12', '8', '15', '20'], odd: '15', reason: 'odd number' },
            { category: 'Water Animals', items: ['Fish', 'Whale', 'Lion', 'Dolphin'], odd: 'Lion', reason: 'land animal' },
            { category: 'Round Things', items: ['Ball', 'Orange', 'Cube', 'Moon'], odd: 'Cube', reason: 'not round' },
            { category: 'Instruments', items: ['Guitar', 'Piano', 'Drum', 'Pencil'], odd: 'Pencil', reason: 'not an instrument' }
        ];

        function generateGame4() {
            document.getElementById('game4-feedback').classList.remove('show');

            const set = oddOneOutSets[Math.floor(Math.random() * oddOneOutSets.length)];
            const shuffled = [...set.items].sort(() => Math.random() - 0.5);

            game4Data = { ...set, shuffled };

            document.getElementById('game4-category').textContent = `Hint: Think about "${set.category}"`;

            const options = document.getElementById('game4-options');
            options.innerHTML = shuffled.map(item => `
                <button class="option-btn" onclick="selectOddOne(this, '${item}')">${item}</button>
            `).join('');
        }

        function selectOddOne(btn, item) {
            // Remove previous selections
            document.querySelectorAll('#game4-options .option-btn').forEach(b => {
                b.classList.remove('selected', 'correct', 'wrong');
            });

            const feedback = document.getElementById('game4-feedback');

            if (item === game4Data.odd) {
                btn.classList.add('correct');
                feedback.className = 'feedback show win';
                feedback.textContent = `üéâ Correct! ${item} is the odd one out because it's a ${game4Data.reason}!`;
            } else {
                btn.classList.add('wrong');
                feedback.className = 'feedback show lose';
                feedback.textContent = `‚ùå Not quite. ${game4Data.odd} was the odd one out (${game4Data.reason}).`;
            }
        }

        /* ===========================================================
           GAME 5: PATTERN GRID DEDUCTION
           =========================================================== */
        let game5Data = {};

        function generateGame5() {
            document.getElementById('game5-feedback').classList.remove('show');

            // Generate a 3x3 solution grid
            const solution = [];
            for (let i = 0; i < 9; i++) {
                solution.push(Math.random() < 0.4 ? 1 : 0); // 1 = marked, 0 = empty
            }

            // Generate clues based on solution
            const rowCounts = [0, 0, 0];
            const colCounts = [0, 0, 0];

            for (let i = 0; i < 9; i++) {
                if (solution[i] === 1) {
                    rowCounts[Math.floor(i / 3)]++;
                    colCounts[i % 3]++;
                }
            }

            const clues = [
                `Row 1 has exactly ${rowCounts[0]} marked cell(s)`,
                `Row 2 has exactly ${rowCounts[1]} marked cell(s)`,
                `Row 3 has exactly ${rowCounts[2]} marked cell(s)`,
                `Column 1 has exactly ${colCounts[0]} marked cell(s)`,
                `Column 2 has exactly ${colCounts[1]} marked cell(s)`,
                `Column 3 has exactly ${colCounts[2]} marked cell(s)`
            ];

            game5Data = { solution, rowCounts, colCounts };

            // Render clues
            document.getElementById('game5-clues').innerHTML = clues.map(c =>
                `<div class="clue-item">‚Ä¢ ${c}</div>`
            ).join('');

            // Render grid
            const grid = document.getElementById('game5-grid');
            grid.innerHTML = '';
            for (let i = 0; i < 9; i++) {
                const cell = document.createElement('div');
                cell.className = 'grid-cell';
                cell.dataset.index = i;
                cell.dataset.state = '0'; // 0=empty, 1=marked, 2=crossed
                cell.onclick = () => toggleCell(cell);
                grid.appendChild(cell);
            }
        }

        function toggleCell(cell) {
            const state = parseInt(cell.dataset.state);
            const newState = (state + 1) % 3;
            cell.dataset.state = newState;

            cell.classList.remove('marked', 'crossed');
            if (newState === 1) {
                cell.classList.add('marked');
                cell.textContent = '‚úì';
            } else if (newState === 2) {
                cell.classList.add('crossed');
                cell.textContent = '‚úó';
            } else {
                cell.textContent = '';
            }
        }

        function checkGame5() {
            const cells = document.querySelectorAll('#game5-grid .grid-cell');
            const feedback = document.getElementById('game5-feedback');

            let correct = true;
            cells.forEach((cell, idx) => {
                const state = parseInt(cell.dataset.state);
                const expected = game5Data.solution[idx];
                if ((expected === 1 && state !== 1) || (expected === 0 && state === 1)) {
                    correct = false;
                }
            });

            if (correct) {
                feedback.className = 'feedback show win';
                feedback.textContent = 'üéâ Perfect! You solved the grid puzzle!';
            } else {
                feedback.className = 'feedback show lose';
                feedback.textContent = '‚ùå Not quite right. Check the clues and try again!';
            }
        }

        /* ===========================================================
           VIDEO TUTORIAL SIMULATOR
           =========================================================== */
        const tutorials = {
            1: { duration: 15, currentStep: 0 },
            2: { duration: 18, currentStep: 0 },
            3: { duration: 15, currentStep: 0 },
            4: { duration: 12, currentStep: 0 },
            5: { duration: 18, currentStep: 0 }
        };

        const tutorialState = {};
        for (let i = 1; i <= 5; i++) {
            tutorialState[i] = { playing: false, currentTime: 0, interval: null };
        }

        function startTutorial(n) {
            document.getElementById(`tutorial${n}-overlay`).classList.add('hidden');
            tutorialState[n].playing = true;
            tutorialState[n].currentTime = 0;
            document.getElementById(`tutorial${n}-playpause`).textContent = '‚ùö‚ùö';
            playTutorial(n);
        }

        function toggleTutorial(n) {
            if (tutorialState[n].playing) {
                pauseTutorial(n);
            } else {
                tutorialState[n].playing = true;
                document.getElementById(`tutorial${n}-playpause`).textContent = '‚ùö‚ùö';
                document.getElementById(`tutorial${n}-overlay`).classList.add('hidden');
                playTutorial(n);
            }
        }

        function playTutorial(n) {
            if (tutorialState[n].interval) clearInterval(tutorialState[n].interval);

            tutorialState[n].interval = setInterval(() => {
                if (!tutorialState[n].playing) return;

                tutorialState[n].currentTime += 0.1;
                if (tutorialState[n].currentTime >= tutorials[n].duration) {
                    tutorialState[n].currentTime = 0;
                }
                updateTutorialUI(n);
            }, 100);
        }

        function pauseTutorial(n) {
            tutorialState[n].playing = false;
            document.getElementById(`tutorial${n}-playpause`).textContent = '‚ñ∂';
            if (tutorialState[n].interval) {
                clearInterval(tutorialState[n].interval);
            }
        }

        function seekTutorial(e, n) {
            const bar = e.currentTarget;
            const rect = bar.getBoundingClientRect();
            const percent = (e.clientX - rect.left) / rect.width;
            tutorialState[n].currentTime = percent * tutorials[n].duration;
            updateTutorialUI(n);
        }

        function updateTutorialUI(n) {
            const state = tutorialState[n];
            const duration = tutorials[n].duration;
            const progress = (state.currentTime / duration) * 100;

            document.getElementById(`tutorial${n}-progress`).style.width = `${progress}%`;

            const mins = Math.floor(state.currentTime / 60);
            const secs = Math.floor(state.currentTime % 60);
            const totalMins = Math.floor(duration / 60);
            const totalSecs = duration % 60;
            document.getElementById(`tutorial${n}-time`).textContent =
                `${mins}:${secs.toString().padStart(2, '0')} / ${totalMins}:${totalSecs.toString().padStart(2, '0')}`;

            renderTutorialContent(n, state.currentTime);
        }

        function renderTutorialContent(n, time) {
            const content = document.getElementById(`tutorial${n}-content`);

            if (n === 1) renderTutorial1(content, time);
            else if (n === 2) renderTutorial2(content, time);
            else if (n === 3) renderTutorial3(content, time);
            else if (n === 4) renderTutorial4(content, time);
            else if (n === 5) renderTutorial5(content, time);
        }

        // Tutorial 1: Number Pattern
        function renderTutorial1(container, time) {
            const sequence = [3, 6, 9, '?', 15, 18];
            const answer = 12;
            let step, caption, hint;

            if (time < 3) {
                step = 1; caption = "Let's solve a Number Pattern!"; hint = "Look at the sequence of numbers";
            } else if (time < 6) {
                step = 2; caption = "Step 1: Find the differences"; hint = "Calculate: 6-3=3, 9-6=3...";
            } else if (time < 9) {
                step = 3; caption = "Step 2: The pattern is +3!"; hint = "Each number increases by 3";
            } else if (time < 12) {
                step = 4; caption = "Step 3: Apply the pattern"; hint = "9 + 3 = ?";
            } else {
                step = 5; caption = "Answer: 12! üéâ"; hint = "The missing number is 12";
            }

            const highlight = step >= 2 && step < 5 ? [0,1,2] : step >= 4 ? [3] : [];
            const solved = step >= 5;

            container.innerHTML = `
                <div class="tutorial-step">Step ${step} of 5</div>
                <div class="tutorial-caption">${caption}</div>
                <div class="tutorial-demo">
                    <div class="demo-items">
                        ${sequence.map((n, i) => `
                            <div class="demo-item ${highlight.includes(i) ? 'highlight' : ''} ${solved && i === 3 ? 'solved' : ''}">
                                ${solved && n === '?' ? answer : n}
                            </div>
                        `).join('')}
                    </div>
                    ${step === 2 ? '<div class="demo-arrow">‚Üì +3 ‚Üì +3 ‚Üì</div>' : ''}
                </div>
                <div class="tutorial-hint">${hint}</div>
            `;
        }

        // Tutorial 2: Symbol Decoder
        function renderTutorial2(container, time) {
            let step, caption, hint;

            if (time < 3.6) {
                step = 1; caption = "Symbol Decoder Challenge!"; hint = "Find what each symbol represents";
            } else if (time < 7.2) {
                step = 2; caption = "Step 1: Start with üî¥ + üî¥ = 10"; hint = "If two reds equal 10, one red = ?";
            } else if (time < 10.8) {
                step = 3; caption = "üî¥ = 5 ‚úì"; hint = "Now use this to find üîµ";
            } else if (time < 14.4) {
                step = 4; caption = "Step 2: üî¥ + üîµ = 12, so 5 + üîµ = 12"; hint = "üîµ = 12 - 5 = 7";
            } else {
                step = 5; caption = "Solved! üî¥=5, üîµ=7, üü¢=3 üéâ"; hint = "Use substitution to solve!";
            }

            container.innerHTML = `
                <div class="tutorial-step">Step ${step} of 5</div>
                <div class="tutorial-caption">${caption}</div>
                <div class="tutorial-demo">
                    <div style="font-size: 1.2rem; margin: 1rem 0;">
                        <div class="${step >= 2 ? 'highlight' : ''}" style="padding: 0.5rem; border-radius: 8px; margin: 0.3rem; display: inline-block;">
                            üî¥ + üî¥ = 10 ${step >= 3 ? '‚Üí üî¥ = 5 ‚úì' : ''}
                        </div>
                        <div class="${step >= 4 ? 'highlight' : ''}" style="padding: 0.5rem; border-radius: 8px; margin: 0.3rem; display: inline-block;">
                            üî¥ + üîµ = 12 ${step >= 5 ? '‚Üí üîµ = 7 ‚úì' : ''}
                        </div>
                    </div>
                </div>
                <div class="tutorial-hint">${hint}</div>
            `;
        }

        // Tutorial 3: Equation Logic
        function renderTutorial3(container, time) {
            let step, caption, hint;

            if (time < 3) {
                step = 1; caption = "Complete the Equation!"; hint = "Find what makes it true";
            } else if (time < 6) {
                step = 2; caption = "8 ? 2 = 16"; hint = "Test each operator: +, -, √ó, √∑";
            } else if (time < 9) {
                step = 3; caption = "Testing: 8 + 2 = 10 ‚ùå"; hint = "Addition doesn't work";
            } else if (time < 12) {
                step = 4; caption = "Testing: 8 √ó 2 = 16 ‚úì"; hint = "Multiplication works!";
            } else {
                step = 5; caption = "Answer: √ó (multiply) üéâ"; hint = "8 √ó 2 = 16";
            }

            container.innerHTML = `
                <div class="tutorial-step">Step ${step} of 5</div>
                <div class="tutorial-caption">${caption}</div>
                <div class="tutorial-demo">
                    <div class="demo-items">
                        <div class="demo-item">8</div>
                        <div class="demo-item ${step >= 4 ? 'solved' : 'highlight'}">${step >= 5 ? '√ó' : '?'}</div>
                        <div class="demo-item">2</div>
                        <div class="demo-item">=</div>
                        <div class="demo-item">16</div>
                    </div>
                </div>
                <div class="tutorial-hint">${hint}</div>
            `;
        }

        // Tutorial 4: Odd One Out
        function renderTutorial4(container, time) {
            const items = ['Apple', 'Banana', 'Carrot', 'Orange'];
            let step, caption, hint, highlighted;

            if (time < 2.4) {
                step = 1; caption = "Find the Odd One Out!"; hint = "One item doesn't belong"; highlighted = -1;
            } else if (time < 4.8) {
                step = 2; caption = "Look at each item..."; hint = "What do most have in common?"; highlighted = 0;
            } else if (time < 7.2) {
                step = 3; caption = "Apple, Banana, Orange = Fruits"; hint = "These are all fruits"; highlighted = -1;
            } else if (time < 9.6) {
                step = 4; caption = "Carrot is a vegetable!"; hint = "It doesn't fit the fruit category"; highlighted = 2;
            } else {
                step = 5; caption = "Answer: Carrot üéâ"; hint = "Carrot is the odd one out (vegetable)"; highlighted = 2;
            }

            container.innerHTML = `
                <div class="tutorial-step">Step ${step} of 5</div>
                <div class="tutorial-caption">${caption}</div>
                <div class="tutorial-demo">
                    <div class="demo-items" style="gap: 15px;">
                        ${items.map((item, i) => `
                            <div class="demo-item ${i === highlighted ? (step >= 5 ? 'solved' : 'highlight') : ''}" style="min-width: 80px;">
                                ${item}
                            </div>
                        `).join('')}
                    </div>
                </div>
                <div class="tutorial-hint">${hint}</div>
            `;
        }

        // Tutorial 5: Grid Deduction
        function renderTutorial5(container, time) {
            let step, caption, hint;
            const grid = [0,0,0,0,0,0,0,0,0];
            let highlights = [];

            if (time < 3.6) {
                step = 1; caption = "Grid Deduction Puzzle!"; hint = "Use clues to mark cells";
            } else if (time < 7.2) {
                step = 2; caption = "Clue: Row 1 has 2 marks"; hint = "Mark 2 cells in row 1";
                highlights = [0, 1, 2];
            } else if (time < 10.8) {
                step = 3; caption = "Applying Row 1 clue..."; hint = "Two cells marked in row 1";
                grid[0] = 1; grid[2] = 1;
                highlights = [0, 2];
            } else if (time < 14.4) {
                step = 4; caption = "Clue: Column 1 has 1 mark"; hint = "Cell (1,1) is already marked!";
                grid[0] = 1; grid[2] = 1;
                highlights = [0, 3, 6];
            } else {
                step = 5; caption = "Puzzle Solved! üéâ"; hint = "Cross-reference all clues";
                grid[0] = 1; grid[2] = 1; grid[4] = 1;
            }

            container.innerHTML = `
                <div class="tutorial-step">Step ${step} of 5</div>
                <div class="tutorial-caption">${caption}</div>
                <div class="tutorial-demo">
                    <div style="display: grid; grid-template-columns: repeat(3, 50px); gap: 8px; justify-content: center;">
                        ${grid.map((cell, i) => `
                            <div style="width: 50px; height: 50px; background: ${highlights.includes(i) ? 'rgba(255,215,0,0.3)' : 'rgba(255,255,255,0.1)'};
                                border: 2px solid ${cell === 1 ? '#28a745' : 'rgba(255,255,255,0.2)'};
                                border-radius: 8px; display: flex; align-items: center; justify-content: center;
                                color: #28a745; font-size: 1.2rem; font-weight: bold;">
                                ${cell === 1 ? '‚úì' : ''}
                            </div>
                        `).join('')}
                    </div>
                </div>
                <div class="tutorial-hint">${hint}</div>
            `;
        }

        /* ===========================================================
           INITIALIZATION
           =========================================================== */
        // Initialize first game on load (if needed)
        document.addEventListener('DOMContentLoaded', () => {
            // Pre-generate first game content
            generateGame1();
        });
    </script>
</body>
</html>
